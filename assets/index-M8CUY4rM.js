var se=Object.defineProperty;var fe=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>(fe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}})();function $(){}function O(e,t){for(const n in t)e[n]=t[n];return e}function U(e){return e()}function q(){return Object.create(null)}function N(e){e.forEach(U)}function V(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let x;function F(e,t){return e===t?!0:(x||(x=document.createElement("a")),x.href=t,e===x.href)}function ue(e){return Object.keys(e).length===0}function K(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}let S=!1;function ae(){S=!0}function de(){S=!1}function _e(e,t,n,i){for(;e<t;){const r=e+(t-e>>1);n(r)<=i?e=r+1:t=r}return e}function he(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const o=[];for(let s=0;s<t.length;s++){const _=t[s];_.claim_order!==void 0&&o.push(_)}t=o}const n=new Int32Array(t.length+1),i=new Int32Array(t.length);n[0]=-1;let r=0;for(let o=0;o<t.length;o++){const s=t[o].claim_order,_=(r>0&&t[n[r]].claim_order<=s?r+1:_e(1,r,a=>t[n[a]].claim_order,s))-1;i[o]=n[_]+1;const f=_+1;n[f]=o,r=Math.max(f,r)}const c=[],l=[];let u=t.length-1;for(let o=n[r]+1;o!=0;o=i[o-1]){for(c.push(t[o-1]);u>=o;u--)l.push(t[u]);u--}for(;u>=0;u--)l.push(t[u]);c.reverse(),l.sort((o,s)=>o.claim_order-s.claim_order);for(let o=0,s=0;o<l.length;o++){for(;s<c.length&&l[o].claim_order>=c[s].claim_order;)s++;const _=s<c.length?c[s]:null;e.insertBefore(l[o],_)}}function L(e,t){e.appendChild(t)}function z(e,t){if(S){for(he(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function E(e,t,n){e.insertBefore(t,n||null)}function me(e,t,n){S&&!n?z(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function k(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Z(e){return document.createTextNode(e)}function Q(){return Z(" ")}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){for(const n in t)h(e,n,t[n])}function I(e){return Array.from(e.childNodes)}function pe(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function ge(e,t,n,i,r=!1){pe(e);const c=(()=>{for(let l=e.claim_info.last_index;l<e.length;l++){const u=e[l];if(t(u)){const o=n(u);return o===void 0?e.splice(l,1):e[l]=o,r||(e.claim_info.last_index=l),u}}for(let l=e.claim_info.last_index-1;l>=0;l--){const u=e[l];if(t(u)){const o=n(u);return o===void 0?e.splice(l,1):e[l]=o,r?o===void 0&&e.claim_info.last_index--:e.claim_info.last_index=l,u}}return i()})();return c.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,c}function ye(e,t,n,i){return ge(e,r=>r.nodeName===t,r=>{const c=[];for(let l=0;l<r.attributes.length;l++){const u=r.attributes[l];n[u.name]||c.push(u.name)}c.forEach(l=>r.removeAttribute(l))},()=>i(t))}function Y(e,t,n){return ye(e,t,n,j)}function we(e,t){t=""+t,e.data!==t&&(e.data=t)}let T;function v(e){T=e}const y=[],D=[];let w=[];const H=[],be=Promise.resolve();let P=!1;function ve(){P||(P=!0,be.then(G))}function M(e){w.push(e)}const B=new Set;let g=0;function G(){if(g!==0)return;const e=T;do{try{for(;g<y.length;){const t=y[g];g++,v(t),$e(t.$$)}}catch(t){throw y.length=0,g=0,t}for(v(null),y.length=0,g=0;D.length;)D.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];B.has(n)||(B.add(n),n())}w.length=0}while(y.length);for(;H.length;)H.pop()();P=!1,B.clear(),v(e)}function $e(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}function xe(e){const t=[],n=[];w.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),w=t}const C=new Set;let Ee;function ee(e,t){e&&e.i&&(C.delete(e),e.i(t))}function ke(e,t,n,i){if(e&&e.o){if(C.has(e))return;C.add(e),Ee.c.push(()=>{C.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Ce(e,t){const n={},i={},r={$$scope:1};let c=e.length;for(;c--;){const l=e[c],u=t[c];if(u){for(const o in l)o in u||(i[o]=1);for(const o in u)r[o]||(n[o]=u[o],r[o]=1);e[c]=u}else for(const o in l)r[o]=1}for(const l in i)l in n||(n[l]=void 0);return n}function Ne(e){e&&e.c()}function te(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),M(()=>{const c=e.$$.on_mount.map(U).filter(V);e.$$.on_destroy?e.$$.on_destroy.push(...c):N(c),e.$$.on_mount=[]}),r.forEach(M)}function ne(e,t){const n=e.$$;n.fragment!==null&&(xe(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Se(e,t){e.$$.dirty[0]===-1&&(y.push(e),ve(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,i,r,c,l=null,u=[-1]){const o=T;v(e);const s=e.$$={fragment:null,ctx:[],props:c,update:$,not_equal:r,bound:q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(o?o.$$.context:[])),callbacks:q(),dirty:u,skip_bound:!1,root:t.target||o.$$.root};l&&l(s.root);let _=!1;if(s.ctx=n?n(e,t.props||{},(f,a,...m)=>{const b=m.length?m[0]:a;return s.ctx&&r(s.ctx[f],s.ctx[f]=b)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](b),_&&Se(e,f)),a}):[],s.update(),_=!0,N(s.before_update),s.fragment=i?i(s.ctx):!1,t.target){if(t.hydrate){ae();const f=I(t.target);s.fragment&&s.fragment.l(f),f.forEach(p)}else s.fragment&&s.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor),de(),G()}v(o)}class ie{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){ne(this,1),this.$destroy=$}$on(t,n){if(!V(n))return $;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!ue(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ae="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ae);function Be(e){let t,n,i=[{xmlns:"http://www.w3.org/2000/svg"},{width:"24"},{height:"24"},e[0]],r={};for(let c=0;c<i.length;c+=1)r=O(r,i[c]);return{c(){t=j("svg"),n=j("path"),this.h()},l(c){t=Y(c,"svg",{xmlns:!0,width:!0,height:!0});var l=I(t);n=Y(l,"path",{fill:!0,d:!0}),I(n).forEach(p),l.forEach(p),this.h()},h(){h(n,"fill","currentColor"),h(n,"d","M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12"),R(t,r)},m(c,l){me(c,t,l),z(t,n)},p(c,[l]){R(t,r=Ce(i,[{xmlns:"http://www.w3.org/2000/svg"},{width:"24"},{height:"24"},l&1&&c[0]]))},i:$,o:$,d(c){c&&p(t)}}}function Oe(e,t,n){return e.$$set=i=>{n(0,t=O(O({},t),K(i)))},t=K(t),[t]}class Le extends ie{constructor(t){super(),re(this,t,Oe,Be,X,{})}}const je="/kirby-samurai/assets/start-NoyIC7Qc.png",Ie="/kirby-samurai/assets/frame1-Rpu4lk_i.png",Pe="/kirby-samurai/assets/frame2-SYcl9PnB.png",Me="/kirby-samurai/assets/frame3a-JaiXyitG.png",Te="/kirby-samurai/assets/frame3b-E0kobY0g.png";function J(e){let t,n;return{c(){t=k("div"),n=Z(e[1]),h(t,"class","absolute font-bold text-2xl right-[95px] bottom-[240px]")},m(i,r){E(i,t,r),L(t,n)},p(i,r){r&2&&we(n,i[1])},d(i){i&&p(t)}}}function We(e){let t,n,i,r,c,l,u,o,s,_,f=e[0]!==e[3].StartScreen&&J(e);return s=new Le({}),{c(){t=k("main"),f&&f.c(),n=Q(),i=k("img"),u=Q(),o=k("a"),Ne(s.$$.fragment),h(i,"id",r=e[2].id),F(i.src,c=e[2].src)||h(i,"src",c),h(i,"alt",l="frame-"+e[2].id),h(i,"class","h-[800px]"),h(t,"class","relative"),h(o,"href","https://github.com/julesrx/kirby-samurai"),h(o,"target","_blank"),h(o,"rel","nofollow"),h(o,"class","fixed bottom-0 right-0 text-white opacity-10")},m(a,m){E(a,t,m),f&&f.m(t,null),L(t,n),L(t,i),E(a,u,m),E(a,o,m),te(s,o,null),_=!0},p(a,[m]){a[0]!==a[3].StartScreen?f?f.p(a,m):(f=J(a),f.c(),f.m(t,n)):f&&(f.d(1),f=null),(!_||m&4&&r!==(r=a[2].id))&&h(i,"id",r),(!_||m&4&&!F(i.src,c=a[2].src))&&h(i,"src",c),(!_||m&4&&l!==(l="frame-"+a[2].id))&&h(i,"alt",l)},i(a){_||(ee(s.$$.fragment,a),_=!0)},o(a){ke(s.$$.fragment,a),_=!1},d(a){a&&(p(t),p(u),p(o)),f&&f.d(),ne(s)}}}function qe(e,t,n){let i,r;var c=(d=>(d[d.StartScreen=0]="StartScreen",d[d.BeforeChallenge=1]="BeforeChallenge",d[d.Challenge=2]="Challenge",d[d.WinA=3]="WinA",d[d.WinB=4]="WinB",d))(c||{});const l={id:"f-s",src:je},u={id:"f-1",src:Ie},o={id:"f-2",src:Pe},s={id:"f-3a",src:Me},_={id:"f-3b",src:Te};let f=0;const a=d=>{switch(d){case 0:default:return l;case 1:return u;case 2:return o;case 3:return s;case 4:return _}};document.addEventListener("keydown",d=>{f!==0&&f!==3&&f!==4||d.code==="Space"&&ce()});let m=0,b=null;const ce=()=>{n(0,f=1),document.addEventListener("keydown",W);const d=(Math.random()+1)*1e3;setTimeout(oe,d)},oe=()=>{n(0,f=2),b=performance.now()},W=d=>{if(f!==2||d.code!=="KeyQ"&&d.code!=="Slash")return;const le=performance.now();n(4,m=le-b),d.code==="KeyQ"?n(0,f=3):d.code==="Slash"&&n(0,f=4),document.removeEventListener("keydown",W)};return e.$$.update=()=>{e.$$.dirty&1&&n(2,i=a(f)),e.$$.dirty&16&&n(1,r=Math.trunc(m).toString().padStart(3,"0"))},[f,r,i,c,m]}class Fe extends ie{constructor(t){super(),re(this,t,qe,We,X,{})}}new Fe({target:document.getElementById("app")});
